<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>Password Strength Checker</title>
	<style>
		:root{
			--bg:#0f1724;
			--card:#0b1220;
			--muted:#94a3b8;
			--good:#10b981;
			--fair:#f59e0b;
			--weak:#ef4444;
			--glass: rgba(255,255,255,0.03);
			--accent:#6366f1;
			--radius:10px;
			color-scheme: dark;
		}
		html,body{height:100%;}
		body{
			margin:0;
			font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
			background: linear-gradient(180deg, #071022 0%, #071226 100%);
			display:flex;
			align-items:center;
			justify-content:center;
			padding:32px;
			color:#e6eef8;
		}
		.card{
			width:100%;
			max-width:760px;
			background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
			border-radius:var(--radius);
			padding:24px;
			box-shadow: 0 6px 30px rgba(2,6,23,0.6);
			border:1px solid rgba(255,255,255,0.03);
		}
		h1{margin:0 0 8px 0;font-size:20px}
		p.lead{margin:0 0 20px 0;color:var(--muted)}
		.row{display:flex;gap:18px;align-items:flex-start}
		.col{flex:1}
		label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
		.input-wrap{display:flex;gap:8px}
		input[type="password"], input[type="text"], input[type="number"]{
			background:var(--glass);
			border:1px solid rgba(255,255,255,0.04);
			color:inherit;
			padding:10px 12px;
			border-radius:8px;
			width:100%;
			outline:none;
			font-size:15px;
		}
		.btn{background:var(--accent);border:none;color:white;padding:10px 12px;border-radius:8px;cursor:pointer}
		.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06)}
		.meter{
			height:12px;background:rgba(255,255,255,0.04);border-radius:999px;overflow:hidden;margin-top:10px;
		}
		.meter > i{display:block;height:100%;width:0%;background:var(--weak);transition:width .25s ease, background .25s ease}
		.criteria{margin-top:14px;display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
		.crit{font-size:13px;display:flex;gap:8px;align-items:center;color:var(--muted)}
		.crit.ok{color:var(--good)}
		.strength-text{margin-top:10px;font-weight:600}
		.tools{display:flex;gap:8px;margin-top:14px}
		.small{font-size:13px;color:var(--muted)}
		.hint{margin-top:10px;font-size:13px;color:var(--muted)}
		.row-bottom{display:flex;gap:14px;align-items:center;margin-top:16px}
		.copy-msg{font-size:13px;color:var(--muted)}
		footer{margin-top:18px;font-size:13px;color:var(--muted)}
	</style>
</head>
<body>
	<main class="card" role="main">
		<h1>Password Strength Checker</h1>
		<p class="lead">Type a password to see its strength. Use the generator to create a strong password.</p>

		<div class="row">
			<div class="col">
				<label for="password">Password</label>
				<div class="input-wrap">
					<input id="password" type="password" aria-describedby="strengthDesc" aria-live="polite" placeholder="Enter password" />
					<button id="toggle" class="btn ghost" aria-pressed="false" title="Show/Hide password">Show</button>
				</div>

				<div class="meter" aria-hidden="true">
					<i id="meterBar"></i>
				</div>
				<div class="strength-text" id="strengthText" aria-live="polite">&nbsp;</div>

				<div class="criteria" id="criteria">
					<div class="crit" id="c-length">● At least 8 characters</div>
					<div class="crit" id="c-lower">● Lowercase letter</div>
					<div class="crit" id="c-upper">● Uppercase letter</div>
					<div class="crit" id="c-number">● Number</div>
					<div class="crit" id="c-special">● Special character (!@#$%)</div>
					<div class="crit" id="c-uncommon">● Not a common password</div>
				</div>

				<div class="row-bottom">
					<div class="tools">
						<button id="generate" class="btn" title="Generate strong password">Generate</button>
						<button id="copyBtn" class="btn ghost" title="Copy password">Copy</button>
					</div>
					<div class="copy-msg" id="copyMsg" aria-live="polite"></div>
				</div>

				<p class="hint">Tip: Combine long length with mixed character types and avoid common words.</p>
			</div>

			<aside style="width:320px;">
				<label for="lengthRange">Generated length</label>
				<input id="lengthRange" type="number" min="8" max="64" value="16" />
				<div style="margin-top:12px;background:rgba(255,255,255,0.02);padding:12px;border-radius:8px">
					<strong>How score is calculated</strong>
					<p class="small">We check length, lowercase, uppercase, number, special char, and whether the password is in a small list of common passwords. This is a client-side helper — use a password manager for production.</p>
					<hr style="border:none;height:1px;background:rgba(255,255,255,0.03);margin:8px 0" />
					<div class="small"><strong>Accessibility:</strong> The page uses ARIA live regions to announce changes.</div>
				</div>
			</aside>
		</div>

		<footer>
			Built-in client-side checker for quick feedback. Not a substitute for server-side policy enforcement.
		</footer>
	</main>

	<script>
		// Small list of common passwords (short sample)
		const common = new Set([
			'123456','password','123456789','12345678','12345','qwerty','abc123','password1','111111','1234567'
		]);

		const password = document.getElementById('password');
		const meterBar = document.getElementById('meterBar');
		const strengthText = document.getElementById('strengthText');
		const criteria = {
			length: document.getElementById('c-length'),
			lower: document.getElementById('c-lower'),
			upper: document.getElementById('c-upper'),
			number: document.getElementById('c-number'),
			special: document.getElementById('c-special'),
			uncommon: document.getElementById('c-uncommon')
		};

		const toggle = document.getElementById('toggle');
		const generateBtn = document.getElementById('generate');
		const copyBtn = document.getElementById('copyBtn');
		const copyMsg = document.getElementById('copyMsg');
		const lengthRange = document.getElementById('lengthRange');

		function scorePassword(pw){
			let score = 0;
			if(!pw) return {score:0, label:'Empty'};
			if(pw.length >= 8) score += 2; // length baseline
			if(pw.length >= 12) score += 1;
			if(/[a-z]/.test(pw)) score += 1;
			if(/[A-Z]/.test(pw)) score += 1;
			if(/[0-9]/.test(pw)) score += 1;
			if(/[^A-Za-z0-9]/.test(pw)) score += 1;
			if(!common.has(pw.toLowerCase())) score += 1;

			// normalize to 0-100
			const max = 8; // maximum possible points
			const percent = Math.min(100, Math.round((score / max) * 100));

			let label = 'Weak';
			if(percent > 80) label = 'Strong';
			else if(percent > 55) label = 'Good';
			else if(percent > 35) label = 'Fair';
			else label = 'Weak';

			return {score:percent, label};
		}

		function updateUI(){
			const pw = password.value;
			const res = scorePassword(pw);

			meterBar.style.width = res.score + '%';
			if(res.score > 80) meterBar.style.background = getComputedStyle(document.documentElement).getPropertyValue('--good') || '#10b981';
			else if(res.score > 55) meterBar.style.background = getComputedStyle(document.documentElement).getPropertyValue('--accent') || '#6366f1';
			else if(res.score > 35) meterBar.style.background = getComputedStyle(document.documentElement).getPropertyValue('--fair') || '#f59e0b';
			else meterBar.style.background = getComputedStyle(document.documentElement).getPropertyValue('--weak') || '#ef4444';

			strengthText.textContent = res.label + (pw ? ` (${res.score}%)` : '');

			// update criteria
			criteria.length.classList.toggle('ok', pw.length >= 8);
			criteria.lower.classList.toggle('ok', /[a-z]/.test(pw));
			criteria.upper.classList.toggle('ok', /[A-Z]/.test(pw));
			criteria.number.classList.toggle('ok', /[0-9]/.test(pw));
			criteria.special.classList.toggle('ok', /[^A-Za-z0-9]/.test(pw));
			criteria.uncommon.classList.toggle('ok', pw && !common.has(pw.toLowerCase()));
		}

		password.addEventListener('input', updateUI);

		toggle.addEventListener('click', ()=>{
			const showing = password.type === 'text';
			password.type = showing ? 'password' : 'text';
			toggle.textContent = showing ? 'Show' : 'Hide';
			toggle.setAttribute('aria-pressed', String(!showing));
			password.focus();
		});

		generateBtn.addEventListener('click', ()=>{
			const len = Math.max(8, Math.min(64, Number(lengthRange.value) || 16));
			const chars = {
				lower: 'abcdefghijklmnopqrstuvwxyz',
				upper: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ',
				numbers: '0123456789',
				special: '!@#$%^&*()-_=+[]{};:,.<>?'
			};
			let all = chars.lower + chars.upper + chars.numbers + chars.special;
			// Ensure at least one of each type
			let pw = '';
			pw += chars.lower[Math.floor(Math.random()*chars.lower.length)];
			pw += chars.upper[Math.floor(Math.random()*chars.upper.length)];
			pw += chars.numbers[Math.floor(Math.random()*chars.numbers.length)];
			pw += chars.special[Math.floor(Math.random()*chars.special.length)];

			for(let i = pw.length; i < len; i++){
				pw += all[Math.floor(Math.random()*all.length)];
			}
			// shuffle
			pw = pw.split('').sort(()=>0.5 - Math.random()).join('');
			password.value = pw;
			updateUI();
			copyMsg.textContent = 'Generated';
			setTimeout(()=> copyMsg.textContent = '', 1500);
		});

		copyBtn.addEventListener('click', async ()=>{
			try{
				await navigator.clipboard.writeText(password.value);
				copyMsg.textContent = 'Copied to clipboard';
			}catch(e){
				// fallback: select and execCommand
				password.select();
				document.execCommand('copy');
				copyMsg.textContent = 'Copied (fallback)';
			}
			setTimeout(()=> copyMsg.textContent = '', 1800);
		});

		// Initialize UI
		updateUI();
	</script>
</body>
</html>
